{"version":3,"sources":["webpack:///webpack/bootstrap 465455316a6df9cb2046","webpack:///./dev/homepage.js","webpack:///./modules/water.js","webpack:///./modules/numerator.js","webpack:///./modules/numerators.js","webpack:///./modules/data.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC,C;;;;;;ACxBD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,uB;;;;;;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2B;;;;;;ACbA;;AAEA;AACA;AACA,oBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA,sBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4B;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;;AAEA,sB","file":"./bundle/homepage.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 465455316a6df9cb2046\n **/","var WATER = require('../modules/water')\r\n// 获取画布\r\nvar water = document.querySelector('#water')\r\nwater.width = document.documentElement.clientWidth\r\n// 初始化分子\r\nvar w = new WATER(water)\r\nw.init(water)\r\n// 分子运动\r\nvar watering = window.requestAnimationFrame(timer)\r\nfunction timer () {\r\n  w.flow(water)\r\n  watering = window.requestAnimationFrame(timer)\r\n}\r\ndocument.querySelector('#water').addEventListener('click', function (e) {\r\n  console.log('e:' + e.clientX)\r\n  console.log('water.x:' + water.offsetLeft)\r\n  console.log('water.y:' + water.offsetTop)\r\n  var x = e.clientX - water.offsetLeft\r\n  var y = e.clientY - water.offsetTop\r\n  console.log('coordinate:(x, y):' + x + ',' + y)\r\n  w.addOne(x, y)\r\n})\r\nwindow.addEventListener('resize', function () {\r\n  water.width = document.documentElement.clientWidth\r\n})\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./dev/homepage.js\n ** module id = 0\n ** module chunks = 0\n **/","var numerator = require('./numerator')\r\nvar numerators = require('./numerators')\r\nvar data = require('./data')\r\n\r\nvar water = function (water) {\r\n  this.width = water.width\r\n  this.height = water.height\r\n  this.canvas = water\r\n  this.ctx = water.getContext('2d')\r\n}\r\n\r\nwater.prototype.init = function (water) {\r\n  console.log('water.init begin:')\r\n  var water = water\r\n  var ctx = water.getContext('2d')\r\n  var width = water.width\r\n  var height = water.height\r\n  ctx.clearRect(0, 0, width, height)\r\n  for (var i = 0; i < data.max; i++) {\r\n    var x = Math.random() * width\r\n    var y = Math.random() * height\r\n    var r = Math.random() * 2 + 1\r\n    if (Math.random() < 0.25) {\r\n      var dir = 1\r\n    } else if (0.25 <= Math.random() < 0.5) {\r\n      var dir = 2\r\n    } else if (0.5 <= Math.random() < 0.75) {\r\n      var dir = 3\r\n    } else {\r\n      var dir = 4\r\n    }\r\n\r\n    data.numerators.push({\r\n      x: x,\r\n      y: y,\r\n      dir: dir,\r\n      r: r\r\n    })\r\n    numerator.born(x, y, r, water)\r\n  }\r\n  numerators.link(ctx)\r\n}\r\n\r\nwater.prototype.flow = function (water) {\r\n  var water = water\r\n  var ctx = water.getContext('2d')\r\n  var width = water.width\r\n  var height = water.height\r\n  ctx.clearRect(0, 0, width, height)\r\n  // ctx.fillStyle = '#3b6caa'\r\n  // ctx.fillRect(0, 0, width, height)\r\n  for (var i = 0; i < data.numerators.length; i ++) {\r\n    switch (data.numerators[i].dir) {\r\n      case 1:\r\n        data.numerators[i].x = data.numerators[i].x + data.speed\r\n        data.numerators[i].y = data.numerators[i].y + data.speed\r\n        if (data.numerators[i].x < 0 || data.numerators[i].y < 0 || data.numerators[i].x > width || data.numerators[i].y > height) {\r\n          data.numerators[i].dir = 2\r\n        }\r\n        break\r\n      case 2:\r\n        data.numerators[i].x = data.numerators[i].x + data.speed\r\n        data.numerators[i].y = data.numerators[i].y - data.speed\r\n        if (data.numerators[i].x < 0 || data.numerators[i].y < 0 || data.numerators[i].x > width || data.numerators[i].y > height) {\r\n          data.numerators[i].dir = 3\r\n        }\r\n        break\r\n      case 3:\r\n        data.numerators[i].x = data.numerators[i].x - data.speed\r\n        data.numerators[i].y = data.numerators[i].y - data.speed\r\n        if (data.numerators[i].x < 0 || data.numerators[i].y < 0 || data.numerators[i].x > width || data.numerators[i].y > height) {\r\n          data.numerators[i].dir = 4\r\n        }\r\n        break\r\n      case 4:\r\n        data.numerators[i].x = data.numerators[i].x - data.speed\r\n        data.numerators[i].y = data.numerators[i].y + data.speed\r\n        if (data.numerators[i].x < 0 || data.numerators[i].y < 0 || data.numerators[i].x > width || data.numerators[i].y > height) {\r\n          data.numerators[i].dir = 1\r\n        }\r\n        break\r\n    }\r\n    numerator.born(data.numerators[i].x, data.numerators[i].y, data.numerators[i].r, water)\r\n  }\r\n  numerators.link(ctx)\r\n}\r\n\r\nwater.prototype.add = function (num, water) {\r\n  var width = water.width\r\n  var height = water.height\r\n  for (var i = 0; i < num; i++) {\r\n    var x = Math.random() * width\r\n    var y = Math.random() * height\r\n    var r = Math.random() * 2 + 1\r\n    if (Math.random() < 0.25) {\r\n      var dir = 1\r\n    } else if (0.25 <= Math.random() < 0.5) {\r\n      var dir = 2\r\n    } else if (0.5 <= Math.random() < 0.75) {\r\n      var dir = 3\r\n    } else {\r\n      var dir = 4\r\n    }\r\n    data.numerators.push({\r\n      x: x,\r\n      y: y,\r\n      dir: dir,\r\n      r: r\r\n    })\r\n  }\r\n}\r\n\r\nwater.prototype.addOne = function (x, y) {\r\n  var r = Math.random() * 2 + 1\r\n  if (Math.random() < 0.25) {\r\n    var dir = 1\r\n  } else if (0.25 <= Math.random() < 0.5) {\r\n    var dir = 2\r\n  } else if (0.5 <= Math.random() < 0.75) {\r\n    var dir = 3\r\n  } else {\r\n    var dir = 4\r\n  }\r\n  data.numerators.push({\r\n    x: x,\r\n    y: y,\r\n    dir: dir,\r\n    r: r\r\n  })\r\n}\r\n\r\nwater.prototype.lower = function (num, water) {\r\n  data.numerators.splice(0, num)\r\n}\r\n\r\nwater.prototype.change = function () {\r\n  \r\n}\r\n\r\nmodule.exports = water\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./modules/water.js\n ** module id = 1\n ** module chunks = 0\n **/","var numerator = {\r\n  born: function (x, y, r, water) {\r\n    var ctx = water.getContext('2d')\r\n    ctx.save()\r\n    ctx.fillStyle = 'black'\r\n    ctx.beginPath()\r\n    ctx.arc(x, y, r, 0, Math.PI*2)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n    ctx.restore()\r\n  }\r\n}\r\n\r\nmodule.exports = numerator\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./modules/numerator.js\n ** module id = 2\n ** module chunks = 0\n **/","var data = require('./data')\r\n\r\nvar numerators = {\r\n  link: function (ctx) {\r\n    for (var i = 0; i < data.numerators.length; i++) {\r\n      var a = {\r\n        x: data.numerators[i].x,\r\n        y: data.numerators[i].y\r\n      }\r\n      for (var j = 0; j < data.numerators.length; j++) {\r\n        var b = {\r\n          x: data.numerators[j].x,\r\n          y: data.numerators[j].y\r\n        }\r\n        var deltaX = Math.abs(a.x - b.x)\r\n        var deltaY = Math.abs(a.y - b.y)\r\n        var distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY)\r\n        if (distance <= data.distance) {\r\n          ctx.save()\r\n          ctx.beginPath()\r\n          ctx.globalAlpha = 0.5*(data.distance - distance) / (data.distance)\r\n          ctx.strokeStyle = 'black'\r\n          ctx.moveTo(a.x, a.y)\r\n          ctx.lineTo(b.x, b.y)\r\n          ctx.stroke()\r\n          ctx.restore()\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = numerators\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./modules/numerators.js\n ** module id = 3\n ** module chunks = 0\n **/","var data = {\r\n  max: 40,\r\n  distance: 80,\r\n  numerators: [],\r\n  speed: 0.2 // (0, ~)\r\n}\r\n\r\nmodule.exports = data\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./modules/data.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}